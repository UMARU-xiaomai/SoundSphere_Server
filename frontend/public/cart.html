<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>购物车 - SoundSphere</title>
    <link rel="stylesheet" href="/src/styles/main.css">
    <link rel="stylesheet" href="/src/styles/icons.css">
    <link rel="stylesheet" href="/src/styles/placeholders.css">
    <link rel="stylesheet" href="/src/styles/marketplace.css">
    <link rel="stylesheet" href="/src/styles/cart.css">
    <link rel="icon" type="image/png" href="/src/assets/favicon.png">
    <meta name="description" content="查看您的SoundSphere购物车，轻松结账购买音乐资源">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <img src="/src/assets/logo.png" alt="SoundSphere Logo">
                    <span>SoundSphere</span>
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="music.html" class="nav-link">浏览音乐</a></li>
                    <li><a href="collaboration.html" class="nav-link">创作室</a></li>
                    <li><a href="knowledge.html" class="nav-link">知识库</a></li>
                    <li><a href="marketplace.html" class="nav-link">市场</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <div class="cart-icon-wrapper">
                    <a href="cart.html" class="nav-cart-icon active">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="nav-cart-count">0</span>
                    </a>
                </div>
                <button class="btn btn-secondary" id="login-btn">登录</button>
                <button class="btn btn-primary" id="signup-btn">注册</button>
            </div>
        </div>
    </header>

    <main>
        <section class="cart-header">
            <div class="container">
                <h1>购物车</h1>
                <div class="cart-progress">
                    <div class="progress-step active">
                        <div class="step-number">1</div>
                        <div class="step-label">购物车</div>
                    </div>
                    <div class="progress-bar"></div>
                    <div class="progress-step">
                        <div class="step-number">2</div>
                        <div class="step-label">结算</div>
                    </div>
                    <div class="progress-bar"></div>
                    <div class="progress-step">
                        <div class="step-number">3</div>
                        <div class="step-label">确认</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="cart-main">
            <div class="container">
                <div class="cart-container">
                    <div class="cart-items-container" id="cart-items">
                        <!-- 购物车内容将通过JavaScript动态加载 -->
                    </div>
                    
                    <div class="cart-sidebar">
                        <div class="cart-summary">
                            <h3>订单摘要</h3>
                            <div class="summary-item">
                                <span>商品数量</span>
                                <span id="items-count">0</span>
                            </div>
                            <div class="summary-item">
                                <span>商品总价</span>
                                <span id="subtotal">¥0.00</span>
                            </div>
                            <div class="summary-item">
                                <span>折扣</span>
                                <span id="discount">-¥0.00</span>
                            </div>
                            <div class="summary-divider"></div>
                            <div class="summary-item total">
                                <span>总计</span>
                                <span id="total">¥0.00</span>
                            </div>
                            
                            <div class="coupon-form">
                                <input type="text" id="coupon-code" placeholder="优惠券代码">
                                <button class="btn btn-outline" id="apply-coupon">应用</button>
                            </div>
                            
                            <button class="btn btn-primary btn-large btn-full" id="proceed-checkout">
                                去结算
                            </button>
                            
                            <div class="cart-actions">
                                <a href="marketplace.html" class="continue-shopping">
                                    <i class="fas fa-arrow-left"></i> 继续购物
                                </a>
                            </div>
                        </div>
                        
                        <div class="cart-help">
                            <h4>需要帮助?</h4>
                            <p>如有任何问题或需要帮助，请联系我们的客服团队。</p>
                            <a href="#" class="btn btn-outline btn-sm">联系客服</a>
                        </div>
                    </div>
                </div>
                
                <!-- 空购物车状态 -->
                <div class="empty-cart-container hidden" id="empty-cart">
                    <div class="empty-cart">
                        <div class="empty-cart-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h2>您的购物车是空的</h2>
                        <p>浏览我们的商品目录，发现高质量的音乐资源</p>
                        <a href="marketplace.html" class="btn btn-primary btn-large">
                            浏览商品
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 类似商品推荐 -->
        <section class="related-products">
            <div class="container">
                <h2 class="section-title">您可能还喜欢</h2>
                <div class="products-grid">
                    <!-- 推荐商品将通过JavaScript动态加载 -->
                </div>
            </div>
        </section>
    </main>

    <!-- 结账部分 -->
    <section class="checkout-section hidden" id="checkout-section">
        <div class="container">
            <div class="checkout-container">
                <div class="checkout-form">
                    <h2>结算信息</h2>
                    <form id="checkout-form">
                        <div class="form-section">
                            <h3>账单信息</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="billing-name">姓名</label>
                                    <input type="text" id="billing-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="billing-email">电子邮箱</label>
                                    <input type="email" id="billing-email" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="billing-phone">电话号码</label>
                                    <input type="tel" id="billing-phone">
                                </div>
                                <div class="form-group">
                                    <label for="billing-country">国家/地区</label>
                                    <select id="billing-country" required>
                                        <option value="">选择国家/地区</option>
                                        <option value="CN">中国</option>
                                        <option value="US">美国</option>
                                        <option value="JP">日本</option>
                                        <option value="KR">韩国</option>
                                        <option value="GB">英国</option>
                                        <option value="DE">德国</option>
                                        <option value="FR">法国</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>支付方式</h3>
                            <div class="payment-methods">
                                <div class="payment-method">
                                    <input type="radio" name="payment-method" id="payment-alipay" value="alipay" checked>
                                    <label for="payment-alipay">
                                        <img src="/src/assets/payment/alipay.svg" alt="支付宝">
                                        <span>支付宝</span>
                                    </label>
                                </div>
                                <div class="payment-method">
                                    <input type="radio" name="payment-method" id="payment-wechat" value="wechat">
                                    <label for="payment-wechat">
                                        <img src="/src/assets/payment/wechat.svg" alt="微信支付">
                                        <span>微信支付</span>
                                    </label>
                                </div>
                                <div class="payment-method">
                                    <input type="radio" name="payment-method" id="payment-card" value="card">
                                    <label for="payment-card">
                                        <img src="/src/assets/payment/creditcard.svg" alt="信用卡">
                                        <span>信用卡</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- 信用卡表单 -->
                            <div class="card-details hidden" id="card-details-form">
                                <div class="form-row">
                                    <div class="form-group full">
                                        <label for="card-number">卡号</label>
                                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="card-name">持卡人姓名</label>
                                        <input type="text" id="card-name">
                                    </div>
                                    <div class="form-group">
                                        <label for="card-expiry">有效期至</label>
                                        <input type="text" id="card-expiry" placeholder="MM/YY">
                                    </div>
                                    <div class="form-group">
                                        <label for="card-cvc">安全码</label>
                                        <input type="text" id="card-cvc" placeholder="CVC">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="checkout-actions">
                            <button type="button" class="btn btn-secondary" id="back-to-cart">返回购物车</button>
                            <button type="submit" class="btn btn-primary" id="place-order">确认支付</button>
                        </div>
                    </form>
                </div>
                
                <div class="order-summary">
                    <h3>订单明细</h3>
                    <div class="order-items" id="checkout-items">
                        <!-- 订单商品将通过JavaScript动态加载 -->
                    </div>
                    <div class="summary-totals">
                        <div class="summary-item">
                            <span>小计</span>
                            <span id="checkout-subtotal">¥0.00</span>
                        </div>
                        <div class="summary-item">
                            <span>折扣</span>
                            <span id="checkout-discount">-¥0.00</span>
                        </div>
                        <div class="summary-divider"></div>
                        <div class="summary-item total">
                            <span>应付总额</span>
                            <span id="checkout-total">¥0.00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- 订单确认部分 -->
    <section class="order-confirmation hidden" id="confirmation-section">
        <div class="container">
            <div class="confirmation-container">
                <div class="confirmation-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2>谢谢您的购买！</h2>
                <p>您的订单已成功提交。</p>
                
                <div class="order-details">
                    <div class="order-info">
                        <div class="info-item">
                            <span>订单编号:</span>
                            <span id="order-number">ORD-12345</span>
                        </div>
                        <div class="info-item">
                            <span>订单日期:</span>
                            <span id="order-date">2023年8月15日</span>
                        </div>
                        <div class="info-item">
                            <span>支付方式:</span>
                            <span id="order-payment">支付宝</span>
                        </div>
                        <div class="info-item">
                            <span>订单金额:</span>
                            <span id="order-amount">¥299.00</span>
                        </div>
                    </div>
                </div>
                
                <div class="download-instructions">
                    <h3>下载说明</h3>
                    <p>您购买的数字商品已准备好下载。您也可以在您的账户中的"我的购买"部分随时访问这些商品。</p>
                    <button class="btn btn-primary" id="download-now">立即下载</button>
                </div>
                
                <div class="confirmation-actions">
                    <a href="marketplace.html" class="btn btn-outline">继续购物</a>
                    <a href="account.html" class="btn btn-secondary">查看我的订单</a>
                </div>
            </div>
        </div>
    </section>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="/src/assets/sub_logo.png" alt="SoundSphere Logo">
                    <p>SoundSphere - 音乐创作与分享平台</p>
                </div>
                <div class="footer-links">
                    <div class="link-group">
                        <h4>关于</h4>
                        <ul>
                            <li><a href="#">关于我们</a></li>
                            <li><a href="#">使用条款</a></li>
                            <li><a href="#">隐私政策</a></li>
                            <li><a href="#">版权信息</a></li>
                        </ul>
                    </div>
                    <div class="link-group">
                        <h4>功能</h4>
                        <ul>
                            <li><a href="music.html">音乐上传</a></li>
                            <li><a href="collaboration.html">实时协作</a></li>
                            <li><a href="knowledge.html">知识库</a></li>
                            <li><a href="marketplace.html">商城</a></li>
                        </ul>
                    </div>
                    <div class="link-group">
                        <h4>支持</h4>
                        <ul>
                            <li><a href="#">帮助中心</a></li>
                            <li><a href="#">常见问题</a></li>
                            <li><a href="#">联系我们</a></li>
                            <li><a href="#">反馈建议</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-newsletter">
                    <h4>订阅最新动态</h4>
                    <p>获取最新的音乐资讯与平台更新</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="输入你的邮箱" required>
                        <button type="submit" class="btn btn-primary">订阅</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 SoundSphere. 保留所有权利。</p>
                <div class="social-links">
                    <a href="#" class="social-link"><img src="/src/assets/icons/facebook.svg" alt="Facebook"></a>
                    <a href="#" class="social-link"><img src="/src/assets/icons/twitter.svg" alt="Twitter"></a>
                    <a href="#" class="social-link"><img src="/src/assets/icons/instagram.svg" alt="Instagram"></a>
                    <a href="#" class="social-link"><img src="/src/assets/icons/youtube.svg" alt="YouTube"></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="/src/utils/api.js"></script>
    <script src="/src/utils/auth.js"></script>
    <script src="/src/utils/ui.js"></script>
    <script src="/src/scripts/marketplace.js"></script>
    <script src="/src/scripts/cart.js"></script>
</body>
</html> 